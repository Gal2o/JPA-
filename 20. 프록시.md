- ## 프록시
  - ### Member를 조회할 때, Team도 함께 조회해야 할까? <br><br> ![image](https://user-images.githubusercontent.com/35948339/144567312-155683da-12b6-4181-9416-9d36f733d2f4.png)
    - #### Member와 Team이 연관관계 매핑되어 있는데, Member만 사용하고 싶은 상황이다 <br><br> 이런 상황에는 Team까지 같이 가져오는 것은 성능 부분에서 최적화가 되지 않있다고 할 수 있다.
    - #### `프록시`와 `지연 로딩`으로 해결이 가능하다.
-----
  - ### 프록시 기초
    - em.find() vs em.getReference()
      - #### em.find() : 데이터베이스를 통해서 `실제 Entity 객체 조회`
        ``` java
            Member member = new Member();
            member.setUsername("hello");
            em.persist(member);

            em.flush();
            em.clear();

            // 아무것도 없는 상태
            Member findMember = em.find(Member.class, member.getId());
            System.out.println(findMember.getId());
            System.out.println(findMember.getUsername());
            
            // 결과값
            // insert 하고 select 해서 값 가져와서 출력
            1
            hello
            
        ```
      - #### em.getReference() : 데이터베이스 조회를 미루는 `가짜(프록시) 엔티티 객체 조회`
        ``` java
            // 프록시
            Member member = new Member();
            member.setUsername("hello");
            em.persist(member);

            em.flush();
            em.clear();
            
            // 프록시
            Member findMember = em.getReference(Member.class, member.getId());
            System.out.println(findMember.getId());
            System.out.println(findMember.getUsername());
            
            // 결과값
            // Id는 메모리에 있던 값 
            // Username은 id를 출력하고 select로 가져와서 출력
            1
            Hibernate: 
                select
                    member0_.MEMBER_ID as MEMBER_I1_0_0_,
                    member0_.TEAM_ID as TEAM_ID3_0_0_,
                    member0_.USERNAME as USERNAME2_0_0_,
                    team1_.TEAM_ID as TEAM_ID1_1_1_,
                    team1_.name as name2_1_1_ 
                from
                    Member member0_ 
                left outer join
                    Team team1_ 
                        on member0_.TEAM_ID=team1_.TEAM_ID 
                where
                    member0_.MEMBER_ID=?
            hello
        ```
      
